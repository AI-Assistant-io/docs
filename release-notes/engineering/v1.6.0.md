# Release v1.6.0

**Release Date:** 2025-01-24

---

## New Features

### Enhanced Migrations Tracking (PR #21, Issue #15)
Database migrations now include comprehensive tracking with execution details and version visibility.

- **Execution Time Tracking**: Records how long each migration takes to run
- **File Checksums**: SHA-256 hash of migration files for integrity verification
- **Success/Failure Status**: Tracks whether migrations completed or failed
- **Error Messages**: Captures and stores error details for failed migrations
- **Auto-Retry Failed**: Previously failed migrations are automatically retried
- **CLI Status Command**: New `npm run migrate:status` command to view migration status
- **Database Version in Footer**: Shows current DB version in the application footer

---

## Technical Changes

### Backend
- Created `014_enhance_migrations_table.sql` migration adding new columns
- Updated `run.ts` with checksum calculation, timing, and error tracking
- Added `status.ts` CLI tool for viewing migration status
- Created `systemController.ts` with `/api/system/db-version` endpoint
- Added `migrate:status` script to package.json

### Frontend
- Updated `Footer.tsx` to fetch and display database version
- Added `getDatabaseVersion()` method to api.ts

---

## API Changes

### New Endpoint
- `GET /api/system/db-version` - Returns current database version and migration info (public, no auth required)

### Response Format
```json
{
  "success": true,
  "data": {
    "version": "14",
    "latestMigration": "014_enhance_migrations_table.sql",
    "migrationsExecuted": 14,
    "lastMigrationDate": "2025-01-24T..."
  }
}
```

---

## CLI Commands

### Migration Status
```bash
cd backend && npm run migrate:status
```

Output shows:
- Status of each migration (OK, PENDING, FAILED)
- Execution dates and times
- Checksum validation warnings
- Summary with total counts

---

## Bug Fixes

None

---

## Breaking Changes

None

---

## Contributors

- Development assisted by Claude Opus 4.5
